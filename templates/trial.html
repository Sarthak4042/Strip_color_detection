<!DOCTYPE html>
<html data-bs-theme="light" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>upload</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="/assets/css/styles.min.css?h=0f08f901f3c83bf62a6f983366229f7d">
</head>

<body><!-- Start: Sakae Curved Header -->
    <header class="overlay"></header><!-- End: Sakae Curved Header --><!-- Start: Navbar Right Links (Dark) -->
    <nav class="navbar navbar-expand-md bg-dark py-3" data-bs-theme="dark">
        <div class="container"><a class="navbar-brand d-flex align-items-center" href="#"><span
                    class="bs-icon-sm bs-icon-rounded bs-icon-primary d-flex justify-content-center align-items-center me-2 bs-icon"><svg
                        xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor"
                        viewBox="0 0 16 16" class="bi bi-bezier">
                        <path fill-rule="evenodd"
                            d="M0 10.5A1.5 1.5 0 0 1 1.5 9h1A1.5 1.5 0 0 1 4 10.5v1A1.5 1.5 0 0 1 2.5 13h-1A1.5 1.5 0 0 1 0 11.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm10.5.5A1.5 1.5 0 0 1 13.5 9h1a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1-1.5 1.5h-1a1.5 1.5 0 0 1-1.5-1.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zM6 4.5A1.5 1.5 0 0 1 7.5 3h1A1.5 1.5 0 0 1 10 4.5v1A1.5 1.5 0 0 1 8.5 7h-1A1.5 1.5 0 0 1 6 5.5v-1zM7.5 4a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1z">
                        </path>
                        <path
                            d="M6 4.5H1.866a1 1 0 1 0 0 1h2.668A6.517 6.517 0 0 0 1.814 9H2.5c.123 0 .244.015.358.043a5.517 5.517 0 0 1 3.185-3.185A1.503 1.503 0 0 1 6 5.5v-1zm3.957 1.358A1.5 1.5 0 0 0 10 5.5v-1h4.134a1 1 0 1 1 0 1h-2.668a6.517 6.517 0 0 1 2.72 3.5H13.5c-.123 0-.243.015-.358.043a5.517 5.517 0 0 0-3.185-3.185z">
                        </path>
                    </svg></span><span>Urify</span></a><button data-bs-toggle="collapse" class="navbar-toggler"
                data-bs-target="#navcol-5"><span class="visually-hidden">Toggle navigation</span><span
                    class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navcol-5">
                <ul class="navbar-nav ms-auto"></ul>
            </div>
        </div>
    </nav><!-- End: Navbar Right Links (Dark) -->
    <p><strong>Submit the photo of the strip to carry on the process of detection</strong></p>
    <!-- Start: Custom File Upload -->
    <form id="upload-form" enctype="multipart/form-data">
        <div style="width: 200px;"><input class="form-control custom-file-input" type="file" id="user_group_logo"
                accept="image/*" name="user_group_logo">
            <div class="text-center"><label class="form-label" id="user_group_label" name="image" accept="image/*"
                    for="user_group_logo"><i class="fas fa-upload"></i>&nbsp;Choose an image...</label></div>
            <div class="text-center mt-2"><button class="btn btn-primary" type="submit">Upload</button></div>
        </div>
        <div id="results"></div>
    </form><!-- End: Custom File Upload -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/assets/js/script.min.js?h=8fe9249a123796dbb8ab3a056a2eef55"></script>
</body>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $('#upload-form').submit(function (event) {
        event.preventDefault();
        var formData = new FormData(this);

        $.ajax({
            url: '/myapp/api/analyze/',
            type: 'POST',
            data: formData,
            processData: false,
            contentType: false,
            success: function (response) {
                displayResults(response.colors);
            },
            error: function () {
                alert('An error occurred during analysis.');
            }
        });
    });

    function displayResults(colors) {
        var resultsDiv = $('#results');
        resultsDiv.empty();
        resultsDiv.append('<h2>Color Values:</h2>');
        for (var i = 0; i < colors.length; i++) {
            resultsDiv.append('<p>' + JSON.stringify(colors[i]) + '</p>');
        }
    }

</script>
</body>

</html>